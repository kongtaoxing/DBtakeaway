import{r as s,M as p,u as h,a,j as t,I as m,b as F,c as b,n as u}from"./index.97a6e20b.js";const C=()=>{const{logedIn:x,setLogedIn:l}=s.exports.useContext(p),[r,i]=s.exports.useState(""),[o,c]=s.exports.useState(""),[g,n]=s.exports.useState(""),d=h();return a("div",{className:"form-container",children:[a("div",{className:"form-group",children:[t("label",{htmlFor:"input1",children:"\u624B\u673A\u53F7\uFF1A"}),t("input",{type:"text",id:"input1",placeholder:"",value:r,onChange:e=>i(e.target.value)})]}),t("br",{}),a("div",{className:"form-group",children:[t("label",{htmlFor:"input2",children:"\u5BC6\u7801\uFF1A"}),t("input",{type:"password",placeholder:"",id:"input2",value:o,onChange:e=>c(e.target.value)})]}),t("br",{}),t("button",{className:"cta-button connect-DB-button",onClick:async()=>{try{const e=await F.post(b+"/api/login",{phoneNumber:r,passwd:o});e.data.errorMsg=="success"?(l(()=>!0),localStorage.setItem("loginStatus",!0),localStorage.setItem("user",JSON.stringify(e.data.user)),console.log(e.data.user),u.success("\u767B\u5F55\u6210\u529F\uFF01\u6B63\u5728\u8DF3\u8F6C\u4E2A\u4EBA\u4E3B\u9875..."),d("/profile")):(u.error(e.data.errorMsg),n(()=>e.data.errorMsg))}catch(e){console.log(e),n(()=>String(e))}},children:"\u767B\u5F55"}),t(m,{}),(()=>t("p",{children:g}))()]})};export{C as default};
